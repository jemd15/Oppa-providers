<ion-header>
  <ion-toolbar color="secondary">
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>Facturas</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-list *ngIf="$services | loading | async as services">

    <!-- skeleton loading for services -->
    <ng-template [ngIf]="services.loading">
      <ion-list>
        <ion-item class="ion-margin-top">
          <ion-grid class="ion-no-padding">
            <ion-row>
              <ion-col size="4">
                <ion-skeleton-text animated class="ion-no-margin" style="width: 100%; height: 16vh; margin-bottom: 10px"></ion-skeleton-text>
              </ion-col>
              <ion-col class="ion-padding-start">
                <ion-col size="12">
                  <ion-skeleton-text animated class="ion-no-margin" style="width: 50%; height: 15px;"></ion-skeleton-text>                
                </ion-col>
                <ion-col size="12">
                  <ion-skeleton-text animated class="ion-no-margin" style="width: 90%; margin-top: 3vh;"></ion-skeleton-text>
                </ion-col>
                <ion-col size="12">
                  <ion-skeleton-text animated class="ion-no-margin" style="width: 55%; margin-top: 3vh;"></ion-skeleton-text>
                </ion-col>
                <ion-col size="12">
                  <ion-skeleton-text animated class="ion-no-margin" style="width: 75%; margin-top: 3vh;"></ion-skeleton-text>
                </ion-col>
              </ion-col>
              <ion-col size="2">
                <ion-skeleton-text animated class="ion-no-margin" style="width: 100%;"></ion-skeleton-text>
              </ion-col>
            </ion-row>
          </ion-grid>
        </ion-item>
        <ion-item class="ion-margin-top">
          <ion-grid class="ion-no-padding">
            <ion-row>
              <ion-col size="4">
                <ion-skeleton-text animated class="ion-no-margin" style="width: 100%; height: 16vh; margin-bottom: 10px"></ion-skeleton-text>
              </ion-col>
              <ion-col class="ion-padding-start">
                <ion-col size="12">
                  <ion-skeleton-text animated class="ion-no-margin" style="width: 50%; height: 15px;"></ion-skeleton-text>                
                </ion-col>
                <ion-col size="12">
                  <ion-skeleton-text animated class="ion-no-margin" style="width: 90%; margin-top: 3vh;"></ion-skeleton-text>
                </ion-col>
                <ion-col size="12">
                  <ion-skeleton-text animated class="ion-no-margin" style="width: 55%; margin-top: 3vh;"></ion-skeleton-text>
                </ion-col>
                <ion-col size="12">
                  <ion-skeleton-text animated class="ion-no-margin" style="width: 75%; margin-top: 3vh;"></ion-skeleton-text>
                </ion-col>
              </ion-col>
              <ion-col size="2">
                <ion-skeleton-text animated class="ion-no-margin" style="width: 100%;"></ion-skeleton-text>
              </ion-col>
            </ion-row>
          </ion-grid>
        </ion-item>
        <ion-item class="ion-margin-top">
          <ion-grid class="ion-no-padding">
            <ion-row>
              <ion-col size="4">
                <ion-skeleton-text animated class="ion-no-margin" style="width: 100%; height: 16vh; margin-bottom: 10px"></ion-skeleton-text>
              </ion-col>
              <ion-col class="ion-padding-start">
                <ion-col size="12">
                  <ion-skeleton-text animated class="ion-no-margin" style="width: 50%; height: 15px;"></ion-skeleton-text>                
                </ion-col>
                <ion-col size="12">
                  <ion-skeleton-text animated class="ion-no-margin" style="width: 90%; margin-top: 3vh;"></ion-skeleton-text>
                </ion-col>
                <ion-col size="12">
                  <ion-skeleton-text animated class="ion-no-margin" style="width: 55%; margin-top: 3vh;"></ion-skeleton-text>
                </ion-col>
                <ion-col size="12">
                  <ion-skeleton-text animated class="ion-no-margin" style="width: 75%; margin-top: 3vh;"></ion-skeleton-text>
                </ion-col>
              </ion-col>
              <ion-col size="2">
                <ion-skeleton-text animated class="ion-no-margin" style="width: 100%;"></ion-skeleton-text>
              </ion-col>
            </ion-row>
          </ion-grid>
        </ion-item>
        <ion-item class="ion-margin-top">
          <ion-grid class="ion-no-padding">
            <ion-row>
              <ion-col size="4">
                <ion-skeleton-text animated class="ion-no-margin" style="width: 100%; height: 16vh; margin-bottom: 10px"></ion-skeleton-text>
              </ion-col>
              <ion-col class="ion-padding-start">
                <ion-col size="12">
                  <ion-skeleton-text animated class="ion-no-margin" style="width: 50%; height: 15px;"></ion-skeleton-text>                
                </ion-col>
                <ion-col size="12">
                  <ion-skeleton-text animated class="ion-no-margin" style="width: 90%; margin-top: 3vh;"></ion-skeleton-text>
                </ion-col>
                <ion-col size="12">
                  <ion-skeleton-text animated class="ion-no-margin" style="width: 55%; margin-top: 3vh;"></ion-skeleton-text>
                </ion-col>
                <ion-col size="12">
                  <ion-skeleton-text animated class="ion-no-margin" style="width: 75%; margin-top: 3vh;"></ion-skeleton-text>
                </ion-col>
              </ion-col>
              <ion-col size="2">
                <ion-skeleton-text animated class="ion-no-margin" style="width: 100%;"></ion-skeleton-text>
              </ion-col>
            </ion-row>
          </ion-grid>
        </ion-item>
        <ion-item class="ion-margin-top">
          <ion-grid class="ion-no-padding">
            <ion-row>
              <ion-col size="4">
                <ion-skeleton-text animated class="ion-no-margin" style="width: 100%; height: 16vh; margin-bottom: 10px"></ion-skeleton-text>
              </ion-col>
              <ion-col class="ion-padding-start">
                <ion-col size="12">
                  <ion-skeleton-text animated class="ion-no-margin" style="width: 50%; height: 15px;"></ion-skeleton-text>                
                </ion-col>
                <ion-col size="12">
                  <ion-skeleton-text animated class="ion-no-margin" style="width: 90%; margin-top: 3vh;"></ion-skeleton-text>
                </ion-col>
                <ion-col size="12">
                  <ion-skeleton-text animated class="ion-no-margin" style="width: 55%; margin-top: 3vh;"></ion-skeleton-text>
                </ion-col>
                <ion-col size="12">
                  <ion-skeleton-text animated class="ion-no-margin" style="width: 75%; margin-top: 3vh;"></ion-skeleton-text>
                </ion-col>
              </ion-col>
              <ion-col size="2">
                <ion-skeleton-text animated class="ion-no-margin" style="width: 100%;"></ion-skeleton-text>
              </ion-col>
            </ion-row>
          </ion-grid>
        </ion-item>
      </ion-list>
    </ng-template>

    <!-- list of services -->
    <ng-template [ngIf]="services.value">
      <ion-item *ngFor="let service of services.value">
        <ion-thumbnail slot="start">
          <img [src]="service.img">
        </ion-thumbnail>
        <ion-grid>
          <ion-row>
            <ion-col size="12">
              <h3 class="ion-no-margin">{{ service.name | titlecase }}</h3>
            </ion-col>
            <ion-col size="12">
              <h6 class="ion-no-margin">{{ service.type }}</h6>
            </ion-col>
            <ion-col size="1">
              <ion-icon name="cash-outline"></ion-icon>
            </ion-col>
            <ion-col size="11">
              <h6 class="ion-no-margin ion-margin-start">${{ service.payment.price | number }}</h6>
            </ion-col>
            <ion-col size="12">
              <h6 *ngIf="service.payment.state == 'pending'" class="ion-no-margin">Estado: pendiente</h6>
              <h6 *ngIf="service.payment.state == 'paid'" class="ion-no-margin">Estado: pagado</h6>
            </ion-col>
          </ion-row>
        </ion-grid>
        <ion-note><strong>{{ service.date }}</strong></ion-note>
        <ion-icon size=large name="calendar-outline"></ion-icon>
      </ion-item>
    </ng-template>
  </ion-list>
</ion-content>
